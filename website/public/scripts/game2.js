var bollywood = [
    'https://m.media-amazon.com/images/M/MV5BNTk1OTUxMzIzMV5BMl5BanBnXkFtZTcwMzMxMjI0Nw@@._V1_.jpg',
    'https://akm-img-a-in.tosshub.com/indiatoday/images/story/201910/srk_0-770x433.jpeg?4_YVTysCZwCuKpfLODmAm.GocmFq6UfP',
    'https://images1.livehindustan.com/uploadimage/library/2019/07/21/16_9/16_9_1/_1563683780.jpg',
    'https://i1.wp.com/wikifamouspeople.com/wp-content/uploads/2018/09/rajkumar-rao.jpg?resize=768%2C432&ssl=1',
    'https://www.iwmbuzz.com/wp-content/uploads/2019/11/signs-that-prove-you-are-a-true-govinda-fan-920x518.jpg',
    'https://www.hindustantimes.com/rf/image_size_960x540/HT/p2/2018/07/20/Pictures/_6fce6380-8bf9-11e8-a23e-bc16ac6b2c17.jpg',
    'https://www.bollywoodhungama.com/wp-content/uploads/2019/11/Sidharth-Malhotra.jpg',
    'https://wikibio.in/wp-content/uploads/2018/03/Varun-Dhawan.jpg',
    'https://upload.wikimedia.org/wikipedia/commons/5/5e/Shakti_Kapoor_1.jpg',
    'https://upload.wikimedia.org/wikipedia/commons/b/ba/Sunil_Dutt_cropped_face.jpg',
    'https://m.media-amazon.com/images/M/MV5BNTk1OTUxMzIzMV5BMl5BanBnXkFtZTcwMzMxMjI0Nw@@._V1_.jpg',
    'https://akm-img-a-in.tosshub.com/indiatoday/images/story/201910/srk_0-770x433.jpeg?4_YVTysCZwCuKpfLODmAm.GocmFq6UfP',
    'https://images1.livehindustan.com/uploadimage/library/2019/07/21/16_9/16_9_1/_1563683780.jpg',
    'https://i1.wp.com/wikifamouspeople.com/wp-content/uploads/2018/09/rajkumar-rao.jpg?resize=768%2C432&ssl=1',
    'https://www.iwmbuzz.com/wp-content/uploads/2019/11/signs-that-prove-you-are-a-true-govinda-fan-920x518.jpg',
    'https://www.hindustantimes.com/rf/image_size_960x540/HT/p2/2018/07/20/Pictures/_6fce6380-8bf9-11e8-a23e-bc16ac6b2c17.jpg',
    'https://www.bollywoodhungama.com/wp-content/uploads/2019/11/Sidharth-Malhotra.jpg',
    'https://wikibio.in/wp-content/uploads/2018/03/Varun-Dhawan.jpg',
    'https://upload.wikimedia.org/wikipedia/commons/5/5e/Shakti_Kapoor_1.jpg',
    'https://upload.wikimedia.org/wikipedia/commons/b/ba/Sunil_Dutt_cropped_face.jpg'
];

var cartoon = [
    'http://cloud.oyephoto.in/good-time-game/cartoon/boxer-motu-patlu.jpg',
    'http://cloud.oyephoto.in/good-time-game/cartoon/chacha-chaudhary.jpg',
    'http://cloud.oyephoto.in/good-time-game/cartoon/chhota-mannu.jpg',
    'http://cloud.oyephoto.in/good-time-game/cartoon/chota-bheem.jpg',
    'http://cloud.oyephoto.in/good-time-game/cartoon/chutki.jpg',
    'http://cloud.oyephoto.in/good-time-game/cartoon/kemuzo-kemumaki.jpg',
    'http://cloud.oyephoto.in/good-time-game/cartoon/kenichi-mitsuba.jpg',
    'http://cloud.oyephoto.in/good-time-game/cartoon/motu-cartoon.jpg',
    'http://cloud.oyephoto.in/good-time-game/cartoon/ninja hathodi.jpg',
    'http://cloud.oyephoto.in/good-time-game/cartoon/patlu-cartoon.jpg',
    'http://cloud.oyephoto.in/good-time-game/cartoon/boxer-motu-patlu.jpg',
    'http://cloud.oyephoto.in/good-time-game/cartoon/chacha-chaudhary.jpg',
    'http://cloud.oyephoto.in/good-time-game/cartoon/chhota-mannu.jpg',
    'http://cloud.oyephoto.in/good-time-game/cartoon/chota-bheem.jpg',
    'http://cloud.oyephoto.in/good-time-game/cartoon/chutki.jpg',
    'http://cloud.oyephoto.in/good-time-game/cartoon/kemuzo-kemumaki.jpg',
    'http://cloud.oyephoto.in/good-time-game/cartoon/kenichi-mitsuba.jpg',
    'http://cloud.oyephoto.in/good-time-game/cartoon/motu-cartoon.jpg',
    'http://cloud.oyephoto.in/good-time-game/cartoon/ninja hathodi.jpg',
    'http://cloud.oyephoto.in/good-time-game/cartoon/patlu-cartoon.jpg'
];

var fruits = [
    'https://5.imimg.com/data5/YY/EN/MY-8155364/fresh-apple-250x250.jpg',
    'https://c.ndtvimg.com/2019-04/dl9g6gn8_bananas_625x300_11_April_19.jpg',
    'https://4.imimg.com/data4/CC/CC/GLADMIN-/products-sapota-500x500.jpg',
    'https://c.ndtvimg.com/2019-03/bcpprcko_guava_625x300_25_March_19.jpg',
    'https://i.ndtvimg.com/i/2015-10/kiwi-fruit_625x350_81445871711.jpg',
    'https://plantogram.com/wa-data/public/shop/products/38/03/338/images/604/604.970.jpg',
    'https://5.imimg.com/data5/VN/YP/MY-33296037/orange-600x600-500x500.jpg',
    'https://images-na.ssl-images-amazon.com/images/I/71yF0eEewwL._SX425_.jpg',
    'https://upload.wikimedia.org/wikipedia/commons/b/bb/Table_grapes_on_white.jpg',
    'https://4.imimg.com/data4/XA/VY/MY-23661864/fresh-strawberry-500x500.jpg',
    'https://5.imimg.com/data5/YY/EN/MY-8155364/fresh-apple-250x250.jpg',
    'https://c.ndtvimg.com/2019-04/dl9g6gn8_bananas_625x300_11_April_19.jpg',
    'https://4.imimg.com/data4/CC/CC/GLADMIN-/products-sapota-500x500.jpg',
    'https://c.ndtvimg.com/2019-03/bcpprcko_guava_625x300_25_March_19.jpg',
    'https://i.ndtvimg.com/i/2015-10/kiwi-fruit_625x350_81445871711.jpg',
    'https://plantogram.com/wa-data/public/shop/products/38/03/338/images/604/604.970.jpg',
    'https://5.imimg.com/data5/VN/YP/MY-33296037/orange-600x600-500x500.jpg',
    'https://images-na.ssl-images-amazon.com/images/I/71yF0eEewwL._SX425_.jpg',
    'https://upload.wikimedia.org/wikipedia/commons/b/bb/Table_grapes_on_white.jpg',
    'https://4.imimg.com/data4/XA/VY/MY-23661864/fresh-strawberry-500x500.jpg'
];

var patriotism = [
    'http://cloud.oyephoto.in/good-time-game/patriotism/bal-gangadhar-tilak.jpg',
    'http://cloud.oyephoto.in/good-time-game/patriotism/bhagat-singh.jpg',
    'http://cloud.oyephoto.in/good-time-game/patriotism/b-r-ambedkar.jpg',
    'http://cloud.oyephoto.in/good-time-game/patriotism/chandra-hekhar-azad.jpg',
    'http://cloud.oyephoto.in/good-time-game/patriotism/k-b-hedgewar.jpg',
    'http://cloud.oyephoto.in/good-time-game/patriotism/mangal-pandey.jpg',
    'http://cloud.oyephoto.in/good-time-game/patriotism/netaji-subhash-chandra-bose.jpg',
    'http://cloud.oyephoto.in/good-time-game/patriotism/rani-lakshmi-bai.jpg',
    'http://cloud.oyephoto.in/good-time-game/patriotism/sardar-vallabhbhai-patel.jpg',
    'http://cloud.oyephoto.in/good-time-game/patriotism/swami-vivekananda.jpg',
    'http://cloud.oyephoto.in/good-time-game/patriotism/bal-gangadhar-tilak.jpg',
    'http://cloud.oyephoto.in/good-time-game/patriotism/bhagat-singh.jpg',
    'http://cloud.oyephoto.in/good-time-game/patriotism/b-r-ambedkar.jpg',
    'http://cloud.oyephoto.in/good-time-game/patriotism/chandra-hekhar-azad.jpg',
    'http://cloud.oyephoto.in/good-time-game/patriotism/k-b-hedgewar.jpg',
    'http://cloud.oyephoto.in/good-time-game/patriotism/mangal-pandey.jpg',
    'http://cloud.oyephoto.in/good-time-game/patriotism/netaji-subhash-chandra-bose.jpg',
    'http://cloud.oyephoto.in/good-time-game/patriotism/rani-lakshmi-bai.jpg',
    'http://cloud.oyephoto.in/good-time-game/patriotism/sardar-vallabhbhai-patel.jpg',
    'http://cloud.oyephoto.in/good-time-game/patriotism/swami-vivekananda.jpg'
];

var places = [
    'http://cloud.oyephoto.in/good-time-game/places/bekal-fort-kerala.jpg',
    'http://cloud.oyephoto.in/good-time-game/places/cooch-behar-palace-west-bengal.jpg',
    'http://cloud.oyephoto.in/good-time-game/places/india-gate-mumbai.jpg',
    'http://cloud.oyephoto.in/good-time-game/places/lal-kila-delhi.jpg',
    'http://cloud.oyephoto.in/good-time-game/places/lingaraj-temple-bhubaneswar.jpg',
    'http://cloud.oyephoto.in/good-time-game/places/masroor-rock-cut-temple-himachal.jpg',
    'http://cloud.oyephoto.in/good-time-game/places/mathura-vrindavan-agra.jpg',
    'http://cloud.oyephoto.in/good-time-game/places/mehrangarh-fort-jodhpur.jpg',
    'http://cloud.oyephoto.in/good-time-game/places/murudeshwar-karnataka.jpg',
    'http://cloud.oyephoto.in/good-time-game/places/taj-mahal-agra.jpg',
    'http://cloud.oyephoto.in/good-time-game/places/bekal-fort-kerala.jpg',
    'http://cloud.oyephoto.in/good-time-game/places/cooch-behar-palace-west-bengal.jpg',
    'http://cloud.oyephoto.in/good-time-game/places/india-gate-mumbai.jpg',
    'http://cloud.oyephoto.in/good-time-game/places/lal-kila-delhi.jpg',
    'http://cloud.oyephoto.in/good-time-game/places/lingaraj-temple-bhubaneswar.jpg',
    'http://cloud.oyephoto.in/good-time-game/places/masroor-rock-cut-temple-himachal.jpg',
    'http://cloud.oyephoto.in/good-time-game/places/mathura-vrindavan-agra.jpg',
    'http://cloud.oyephoto.in/good-time-game/places/mehrangarh-fort-jodhpur.jpg',
    'http://cloud.oyephoto.in/good-time-game/places/murudeshwar-karnataka.jpg',
    'http://cloud.oyephoto.in/good-time-game/places/taj-mahal-agra.jpg'
];

var images = [],
    theme = "",
    count = 19,
    rand = 0,
    tempElt1 = "",
    tempElt2 = "",
    click = -1,
    score = 0,
    win = 0,
    time = 0;

var preElt = document.querySelector("#pre"),
    themesElts = document.querySelectorAll(".themes"),
    boxElts = document.querySelectorAll(".box"),
    timeElt = document.querySelector("#time"),
    scoreElt = document.querySelector("#score"),
    postElt = document.querySelector("#post"),
    finalElt = document.querySelector("#final"),
    quizElt = document.querySelector(".quiz-grid"),
    caseFirstMsgElt = document.querySelector(".case-first"),
    caseSecondMsgElt = document.querySelector(".case-second");

// initiate the game with chosen theme
for (let j = 0; j < themesElts.length; j++) {
    themesElts[j].addEventListener("click", function () {
        theme = this.id;
        // insert theme in images array
        switch (theme) {
            case "bollywood":
                for (let i = 0; i < 20; i++) { images.push(bollywood[i]); }
                break;
            case "cartoon":
                for (let i = 0; i < 20; i++) { images.push(cartoon[i]); }
                break;
            case "fruits":
                for (let i = 0; i < 20; i++) { images.push(fruits[i]); }
                break;
            case "patriotism":
                for (let i = 0; i < 20; i++) { images.push(patriotism[i]); }
                break;
            case "places":
                for (let i = 0; i < 20; i++) { images.push(places[i]); }
                break;
        }

        // insert images in memory game
        for (let i = 0; i < 20; i++) {
            rand = Math.floor(Math.random() * count);
            boxElts[i].innerHTML = "<img src='" + images[rand] + "' alt='image' class='hidden'>";
            images.splice(rand, 1);
            count--;
        }
        preElt.style.display = "none";
        caseFirstMsgElt.style.display = "none";
        caseSecondMsgElt.style.display = "block";
        quizElt.style.display = "block";
    });
}

// Handle the play
for (let j = 0; j < document.querySelectorAll(".play").length; j++) {
    document.querySelectorAll(".play")[j].addEventListener("click", function () {
        this.firstChild.classList.remove("hidden");

        // first of two click
        if (click < 1) {
            tempElt1 = this;
            // timer
            if (click === -1) {
                timer = setInterval(function () {
                    time++;
                    timeElt.innerHTML = "Time taken: " + time + " sec";
                }, 1000);
            }
            click = 1;
        }

        // second click
        else if (this !== tempElt1) {
            tempElt2 = this;

            // case to run when different selection
            if (tempElt1.firstChild.src !== tempElt2.firstChild.src) {
                setTimeout(function () {
                    tempElt1.firstChild.classList.add("hidden");
                    tempElt2.firstChild.classList.add("hidden");
                }, 400);
                if (score > 0) {
                    score -= 2;
                }
                scoreElt.innerHTML = "Score card: " + score;
            }

            // case to run when same selection
            else {
                score += 10;
                win += 2;
                tempElt1.firstChild.classList.add("outlined");
                tempElt2.firstChild.classList.add("outlined");
                tempElt1.classList.remove("play");
                tempElt2.classList.remove("play");
                scoreElt.innerHTML = "Score card: " + score;

                // result if game won
                if (win === 20) {
                    clearTimeout(timer);
                    finalElt.innerHTML = "You won " + score + " points <br> in " + time + " seconds";
                    postElt.style.display = "flex";
                }
            }
            click = 0;
        }
    });
}